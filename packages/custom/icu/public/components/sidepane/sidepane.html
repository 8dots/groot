<header>
    <span class="sidepane-title" ng-click="GoToMyTasks()"> {{ 'icu' | i18next }} </span>
</header>
<!-- until there is integration with Circles
<div ng-if="$root.warnings.circles !== 'undefined'" style="color:red;">
	{{$root.warnings.circles | i18next}}
</div>
-->
<nav class="searchPane" ng-if="currentState.indexOf('search') > -1" ng-init="filterSearchByType()">
    show results of:
    <ul>
        <li ng-repeat="issue in issues">
            <input type="radio" ng-model="filteringData.issue" ng-value="issue.name" ng-change="filterSearchByType()"/>
            <span>{{issue.label}}</span>
        </li>
    </ul>

    filter results by:
    <button ng-click="resetFilter()">reset</button>

    linked to:
    <div ng-if="filteringData.projects.length">
        projects:
        <ul>
            <li ng-repeat="p in filteringData.projects">
                <input type="checkbox" ng-model="filteringData.selectedEntities.projects[p._id]" ng-change="filterSearchByEntity()"/>
                {{p.title}}
            </li>
        </ul>
    </div>
    <div ng-if="filteringData.discussions.length">
        discussions:
        <ul>
            <li ng-repeat="d in filteringData.discussions">
                <input type="checkbox" ng-model="filteringData.selectedEntities.discussions[d._id]" ng-change="filterSearchByEntity()"/>
                {{d.title}}
            </li>
        </ul>
    </div>
    <div ng-if="filteringData.folders.length">
        folders:
        <ul>
            <li ng-repeat="f in filteringData.folders">
                <input type="checkbox" ng-model="filteringData.selectedEntities.folders[f._id]" ng-change="filterSearchByEntity()"/>
                {{f.title}}
            </li>
        </ul>
    </div>
    <div ng-if="filteringData.offices.length">
        offices:
        <ul>
            <li ng-repeat="o in filteringData.offices">
                <input type="checkbox" ng-model="filteringData.selectedEntities.offices[o._id]" ng-change="filterSearchByEntity()"/>
                {{o.title}}
            </li>
        </ul>
    </div>

    watchers:

</nav>
<nav ng-if="currentState.indexOf('search') == -1">
    <ul>
        <li data-ng-repeat="item in items" data-ng-class="{ 'active': isCurrentState(item) && item.open }" ng-click="removeFilterValue()">
            <div class="menu-item"
                data-ui-sref="{{'main.' + item.state}}"          
                ng-click="toggleVisibility(item)">
                <div class="icon">
                    <img ng-src="{{item.icon}}"/>
                </div>
                <div class="item-name">
                    <span>{{item.name | i18next | uppercase}}</span>
                </div>
                <div class="arrow">
                    <i class="fa"
                        data-ng-class="{ 'caret-right': !isCurrentState(item) || !item.open, 'fa-caret-down': isCurrentState(item) || item.open}"></i>
                </div>
            </div>
            <!-- <div class="display-by"
            ng-class= "{'collapsed' : isCurrentState(item) && !item.open }"
            ng-if="isCurrentState(item)"
            icu-display-by="item.display"
            people="people"
            projects="projects"
            discussions="discussions"
            offices="offices"
            folders="folders">
            </div> -->
            <div class="display-by"
                 ng-class= "{'collapsed' : isCurrentState(item) && !item.open }"
                 ng-if="isCurrentState(item)"
                 icu-display-by="item.display"
                 people="people"
                 projects="projects"
                 discussions="discussions"
                 office-documents="officeDocuments"
                 offices="offices"
                 folders="folders"
                 templateDocs= "templateDocs">
            </div>
            <!-- <div class="help-block"
                ng-if="isCurrentState(item) && ((item.name === 'projects' && !projects.length) || (item.name === 'discussions' && !discussions.length))">
                No {{ item.name }} - please create your first
            </div> -->
        </li>
    </ul>
</nav>
