<section class="display-by">
    <p class="intro">Display task by:</p>
    <div class="list projects" ng-if="projects">
        <p ng-click="visible.project = !visible.project" class="title">Projects</p>
        <ul ng-if="visible.project">
            <li data-ng-repeat="project in projects"
                data-ng-class="{'selected': context.entityName === 'project' && project._id === context.entityId }"
                data-ng-click="switchTo('project', project._id)">
                <a href>
                    {{project.title}}
                </a>
                <div class="tag-color" ng-style="color={'background-color': '#' + '{{project.color}}'}"></div>
            </li>
        </ul>
    </div>

    <div class="list discussions" ng-if="discussions">
        <p ng-click="visible.disscusion = !visible.disscusion" class="title">Discussions</p>
        <ul ng-if="visible.disscusion">
            <li data-ng-repeat="discussion in discussions"
                data-ng-class="{'selected': context.entityName === 'discussion' && discussion === context.entity }">
                <a href data-ng-link="discussion({id: discussion._id})">
                    {{discussion.name}}
                </a>
            </li>
        </ul>
    </div>

    <div class="list people" ng-if="people">
        <p ng-click="visible.user = !visible.user" class="title">People</p>
        <ul ng-if="visible.user">
            <li data-ng-repeat="user in people">
                <a href data-ng-link="main.users.details({id: user._id})">
                    <div class="avatar"></div>
                    <span class="name">{{user.name}}</span>
                </a>
            </li>
        </ul>
    </div>
</section>
